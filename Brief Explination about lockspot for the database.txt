That's the final, crucial step! Let's translate the clean, 3NF design into the actual **Relational Schema**. This is what you'll use to build the database in SQL. ðŸ“

The tables below list the **Table Name**, the **Column Name** (Attribute), the **Data Type** (what kind of data it holds), and the **Key/Constraint** (Primary Key, Foreign Key, or other rules).

---

## ðŸ“ LockSpot: Relational Schema (3NF)

### 1. User

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **UserID** | INT | **Primary Key (PK)** | Unique ID for every user. |
| Name | VARCHAR(100) | NOT NULL | Full name of the user. |
| Phone | VARCHAR(20) | NOT NULL, UNIQUE | User's phone number. |
| Email | VARCHAR(100) | NOT NULL, UNIQUE | User's email address. |
| UserType | VARCHAR(10) | CHECK ('Passenger', 'Driver', 'Admin') | Role in the system. |
| PasswordHash | VARCHAR(255) | NOT NULL | Securely stored password. |

---

### 2. LocationAddress (New 3NF Table)

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **AddressID** | INT | **Primary Key (PK)** | Unique ID for the address record. |
| StreetAddress | VARCHAR(255) | NOT NULL | Full street address of the location. |
| City | VARCHAR(50) | NOT NULL | City where the location is. |
| ZipCode | VARCHAR(10) |  | Postal code. |
| GPSCoords | VARCHAR(50) |  | Latitude and Longitude for mapping. |

---

### 3. LockerLocation

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **LocationID** | INT | **Primary Key (PK)** | Unique ID for the locker cabinet group. |
| AddressID | INT | **Foreign Key (FK) -> LocationAddress** | Links to the physical address details (3NF). |
| Name | VARCHAR(100) | NOT NULL, UNIQUE | Friendly name (e.g., 'Giza Pyramids Entrance'). |
| OperatingHours | VARCHAR(50) |  | When the location is accessible (e.g., '8:00 - 22:00'). |

---

### 4. LockerUnit

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **LockerID** | INT | **Primary Key (PK)** | Unique ID for each individual locker box. |
| LocationID | INT | **Foreign Key (FK) -> LockerLocation** | The cabinet/group this unit belongs to. |
| Size | VARCHAR(10) | CHECK ('Small', 'Medium', 'Large') | The size of the locker box. |
| Status | VARCHAR(10) | CHECK ('Available', 'Booked', 'Service') | Current state of the locker. |
| UnitNumber | INT | NOT NULL | The physical number on the locker box (e.g., #001). |

---

### 5. Booking

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **BookingID** | INT | **Primary Key (PK)** | Unique ID for the reservation/transaction. |
| UserID | INT | **Foreign Key (FK) -> User** | Who made the booking. |
| LockerID | INT | **Foreign Key (FK) -> LockerUnit** | The specific locker unit reserved. |
| StartTime | DATETIME | NOT NULL | When the locker access began. |
| EndTime | DATETIME | NOT NULL | When the locker access ended (or is scheduled to end). |
| BookingType | VARCHAR(10) | CHECK ('Storage', 'Delivery') | Purpose of the booking. |
| TotalCost | DECIMAL(10, 2) | NOT NULL | Final price charged. |

---

### 6. Payment

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **PaymentID** | INT | **Primary Key (PK)** | Unique ID for the payment record. |
| BookingID | INT | **Foreign Key (FK) -> Booking**, UNIQUE | The booking this payment is for. |
| Amount | DECIMAL(10, 2) | NOT NULL | Amount paid. |
| PaymentDate | DATETIME | NOT NULL | When the payment was processed. |
| Method | VARCHAR(20) |  | (e.g., 'Visa', 'Cash', 'Mobile Wallet'). |
| TransactionStatus | VARCHAR(20) | CHECK ('Success', 'Failed', 'Pending') | Result of the payment attempt. |

---

### 7. StoredItem (New 1NF Table)

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **ItemID** | INT | **Primary Key (PK)** | Unique ID for each item stored. |
| BookingID | INT | **Foreign Key (FK) -> Booking** | Links the item to a specific booking. |
| Description | VARCHAR(100) | NOT NULL | (e.g., 'Large Blue Suitcase', 'Amazon Package'). |

---

### 8. Review

| Column Name | Data Type | Key/Constraint | Description |
| --- | --- | --- | --- |
| **ReviewID** | INT | **Primary Key (PK)** | Unique ID for the review. |
| BookingID | INT | **Foreign Key (FK) -> Booking**, UNIQUE | The booking the review is based on. |
| Rating | INT | NOT NULL, CHECK (Rating >= 1 AND Rating <= 5) | Star rating given by the user. |
| Comment | TEXT |  | Detailed feedback from the user. |
| ReviewDate | DATE | NOT NULL | When the review was submitted. |

---

This complete relational schema is ready for you to use in your database project!

Do you want to practice writing the **SQL Queries** we planned earlier (like finding the top 5 most popular locations or calculating revenue)? ðŸ’»